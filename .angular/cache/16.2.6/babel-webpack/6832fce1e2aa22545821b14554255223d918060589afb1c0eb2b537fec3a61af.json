{"ast":null,"code":"var _a;\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component, EventEmitter, Output } from \"@angular/core\";\nimport { Validators, FormBuilder } from \"@angular/forms\";\nexport let NewTodosComponent = class NewTodosComponent {\n  constructor(fb, todoEditService) {\n    this.fb = fb;\n    this.todoEditService = todoEditService;\n    this.addTodoItem = new EventEmitter();\n    this.todoForm = this.fb.group({\n      name: [\"\", Validators.required]\n    });\n    this.todos = [];\n    this.selectedTodoSubscription = this.todoEditService.selectedTodo$.subscribe(selectedTodo => {\n      this.selectedTodo = selectedTodo;\n      this.todoForm.patchValue({\n        name: selectedTodo ? selectedTodo.name : \"\"\n      });\n    });\n  }\n  ngOnInit() {\n    this.todoForm = this.fb.group({\n      name: [\"\", Validators.required]\n    });\n  }\n  addTodo() {\n    if (this.todoForm.valid) {\n      const newTodo = this.todoForm.value;\n      this.todoForm.reset();\n      this.addTodoItem.emit(newTodo);\n    }\n  }\n  ngOnDestroy() {\n    this.selectedTodoSubscription.unsubscribe();\n  }\n};\n__decorate([Output(), __metadata(\"design:type\", Object)], NewTodosComponent.prototype, \"addTodoItem\", void 0);\nNewTodosComponent = __decorate([Component({\n  selector: \"org-new-todos\",\n  templateUrl: \"./new-todos.component.html\",\n  styleUrls: [\"./new-todos.component.scss\"]\n}), __metadata(\"design:paramtypes\", [FormBuilder, typeof (_a = typeof TodoEditService !== \"undefined\" && TodoEditService) === \"function\" ? _a : Object])], NewTodosComponent);","map":{"version":3,"names":["Component","EventEmitter","Output","Validators","FormBuilder","NewTodosComponent","constructor","fb","todoEditService","addTodoItem","todoForm","group","name","required","todos","selectedTodoSubscription","selectedTodo$","subscribe","selectedTodo","patchValue","ngOnInit","addTodo","valid","newTodo","value","reset","emit","ngOnDestroy","unsubscribe","__decorate","selector","templateUrl","styleUrls","_a","TodoEditService","Object"],"sources":["/Users/macbookpro/OneSchool/todo app/todo-app/todo/src/app/new-todos/new-todos.component.ts"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from \"@angular/core\";\nimport { FormGroup, Validators, FormBuilder } from \"@angular/forms\";\nimport { TodoServiceService } from \"../todo-service.service\";\nimport { DataShareService } from \"../data-share.service\";\nimport { Subscription } from \"rxjs\";\n@Component({\n  selector: \"org-new-todos\",\n  templateUrl: \"./new-todos.component.html\",\n  styleUrls: [\"./new-todos.component.scss\"],\n})\nexport class NewTodosComponent implements OnInit {\n  @Output() addTodoItem = new EventEmitter<any>();\n  selectedTodoSubscription: Subscription;\n\n  constructor(\n    private fb: FormBuilder,\n    private todoEditService: TodoEditService\n  ) {\n    this.selectedTodoSubscription =\n      this.todoEditService.selectedTodo$.subscribe((selectedTodo) => {\n        this.selectedTodo = selectedTodo;\n        this.todoForm.patchValue({\n          name: selectedTodo ? selectedTodo.name : \"\",\n        });\n      });\n  }\n\n  todoForm: FormGroup = this.fb.group({\n    name: [\"\", Validators.required],\n  });\n  todos: any[] = [];\n\n  ngOnInit(): void {\n    this.todoForm = this.fb.group({\n      name: [\"\", Validators.required],\n    });\n  }\n\n  addTodo() {\n    if (this.todoForm.valid) {\n      const newTodo = this.todoForm.value;\n      this.todoForm.reset();\n      this.addTodoItem.emit(newTodo);\n    }\n  }\n  ngOnDestroy() {\n    this.selectedTodoSubscription.unsubscribe();\n  }\n}\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,YAAY,EAAUC,MAAM,QAAQ,eAAe;AACvE,SAAoBC,UAAU,EAAEC,WAAW,QAAQ,gBAAgB;AAS5D,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAI5BC,YACUC,EAAe,EACfC,eAAgC;IADhC,KAAAD,EAAE,GAAFA,EAAE;IACF,KAAAC,eAAe,GAAfA,eAAe;IALf,KAAAC,WAAW,GAAG,IAAIR,YAAY,EAAO;IAgB/C,KAAAS,QAAQ,GAAc,IAAI,CAACH,EAAE,CAACI,KAAK,CAAC;MAClCC,IAAI,EAAE,CAAC,EAAE,EAAET,UAAU,CAACU,QAAQ;KAC/B,CAAC;IACF,KAAAC,KAAK,GAAU,EAAE;IAZf,IAAI,CAACC,wBAAwB,GAC3B,IAAI,CAACP,eAAe,CAACQ,aAAa,CAACC,SAAS,CAAEC,YAAY,IAAI;MAC5D,IAAI,CAACA,YAAY,GAAGA,YAAY;MAChC,IAAI,CAACR,QAAQ,CAACS,UAAU,CAAC;QACvBP,IAAI,EAAEM,YAAY,GAAGA,YAAY,CAACN,IAAI,GAAG;OAC1C,CAAC;IACJ,CAAC,CAAC;EACN;EAOAQ,QAAQA,CAAA;IACN,IAAI,CAACV,QAAQ,GAAG,IAAI,CAACH,EAAE,CAACI,KAAK,CAAC;MAC5BC,IAAI,EAAE,CAAC,EAAE,EAAET,UAAU,CAACU,QAAQ;KAC/B,CAAC;EACJ;EAEAQ,OAAOA,CAAA;IACL,IAAI,IAAI,CAACX,QAAQ,CAACY,KAAK,EAAE;MACvB,MAAMC,OAAO,GAAG,IAAI,CAACb,QAAQ,CAACc,KAAK;MACnC,IAAI,CAACd,QAAQ,CAACe,KAAK,EAAE;MACrB,IAAI,CAAChB,WAAW,CAACiB,IAAI,CAACH,OAAO,CAAC;;EAElC;EACAI,WAAWA,CAAA;IACT,IAAI,CAACZ,wBAAwB,CAACa,WAAW,EAAE;EAC7C;CACD;AArCWC,UAAA,EAAT3B,MAAM,EAAE,E,uFAAuC;AADrCG,iBAAiB,GAAAwB,UAAA,EAL7B7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,E,iCAMc5B,WAAW,UAAA6B,EAAA,UACEC,eAAe,oBAAfA,eAAe,mBAAAD,EAAA,GAAAE,MAAA,G,EAN/B9B,iBAAiB,CAsC7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}