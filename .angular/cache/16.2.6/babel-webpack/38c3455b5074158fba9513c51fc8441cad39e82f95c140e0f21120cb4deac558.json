{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./app.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./app.component.scss?ngResource\";\nimport { Component } from \"@angular/core\";\nimport { TodoServiceService } from \"../app/todo-service.service\";\nexport let AppComponent = class AppComponent {\n  ngOnInit() {\n    this.todoService.getTodos().subscribe(todos => {\n      console.log(\"Server Response - Todos: \", todos);\n      this.allTodos = todos;\n    });\n  }\n  constructor(todoService) {\n    this.todoService = todoService;\n    this.isLoading = false;\n  }\n  addTodo(newTodo) {\n    this.todoService.addTodo(newTodo).subscribe(response => {\n      console.log(\"server response\", response);\n      this.allTodos.push(response);\n      this.fetchTodos();\n    });\n  }\n  deleteTodo(todoId) {\n    console.log(\"delete\", todoId);\n    this.todoService.deleteTodo(todoId).subscribe(() => {\n      this.allTodos = this.allTodos.filter(todo => todo.id !== todoId);\n      this.fetchTodos();\n    });\n  }\n  fetchTodos() {\n    this.todoService.getTodos().subscribe(todos => {\n      this.allTodos = todos;\n    });\n  }\n  markCompleted(todo) {\n    console.log(\"mark complete\", todo);\n    if (todo.id !== undefined) {\n      this.todoService.markAsComplete(todo.id, !todo.complete).subscribe(() => {\n        todo.complete = !todo.complete;\n      });\n    }\n  }\n  clearCompleted() {\n    const completedTodoIds = this.allTodos.filter(todo => todo.complete && todo.id !== undefined).map(todo => todo.id);\n    completedTodoIds.forEach(todoId => {\n      this.todoService.deleteTodo(todoId).subscribe(() => {\n        this.allTodos = this.allTodos.filter(todo => {\n          return todo.id !== todoId;\n        });\n        this.fetchTodos();\n      });\n    });\n  }\n  static #_ = this.ctorParameters = () => [{\n    type: TodoServiceService\n  }];\n};\nAppComponent = __decorate([Component({\n  selector: \"org-root\",\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n}), __metadata(\"design:paramtypes\", [TodoServiceService])], AppComponent);","map":{"version":3,"names":["__decorate","__metadata","__NG_CLI_RESOURCE__0","__NG_CLI_RESOURCE__1","Component","TodoServiceService","AppComponent","ngOnInit","todoService","getTodos","subscribe","todos","console","log","allTodos","constructor","isLoading","addTodo","newTodo","response","push","fetchTodos","deleteTodo","todoId","filter","todo","id","markCompleted","undefined","markAsComplete","complete","clearCompleted","completedTodoIds","map","forEach","_","ctorParameters","type","selector","template","styles"],"sources":["/Users/macbookpro/OneSchool/todo app/todo-app/todo/src/app/app.component.ts"],"sourcesContent":["import { __decorate, __metadata } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./app.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./app.component.scss?ngResource\";\nimport { Component } from \"@angular/core\";\nimport { TodoServiceService } from \"../app/todo-service.service\";\nexport let AppComponent = class AppComponent {\n    ngOnInit() {\n        this.todoService.getTodos().subscribe((todos) => {\n            console.log(\"Server Response - Todos: \", todos);\n            this.allTodos = todos;\n        });\n    }\n    constructor(todoService) {\n        this.todoService = todoService;\n        this.isLoading = false;\n    }\n    addTodo(newTodo) {\n        this.todoService.addTodo(newTodo).subscribe((response) => {\n            console.log(\"server response\", response);\n            this.allTodos.push(response);\n            this.fetchTodos();\n        });\n    }\n    deleteTodo(todoId) {\n        console.log(\"delete\", todoId);\n        this.todoService.deleteTodo(todoId).subscribe(() => {\n            this.allTodos = this.allTodos.filter((todo) => todo.id !== todoId);\n            this.fetchTodos();\n        });\n    }\n    fetchTodos() {\n        this.todoService.getTodos().subscribe((todos) => {\n            this.allTodos = todos;\n        });\n    }\n    markCompleted(todo) {\n        console.log(\"mark complete\", todo);\n        if (todo.id !== undefined) {\n            this.todoService.markAsComplete(todo.id, !todo.complete).subscribe(() => {\n                todo.complete = !todo.complete;\n            });\n        }\n    }\n    clearCompleted() {\n        const completedTodoIds = this.allTodos\n            .filter((todo) => todo.complete && todo.id !== undefined)\n            .map((todo) => todo.id);\n        completedTodoIds.forEach((todoId) => {\n            this.todoService.deleteTodo(todoId).subscribe(() => {\n                this.allTodos = this.allTodos.filter((todo) => {\n                    return todo.id !== todoId;\n                });\n                this.fetchTodos();\n            });\n        });\n    }\n    static { this.ctorParameters = () => [\n        { type: TodoServiceService }\n    ]; }\n};\nAppComponent = __decorate([\n    Component({\n        selector: \"org-root\",\n        template: __NG_CLI_RESOURCE__0,\n        styles: [__NG_CLI_RESOURCE__1]\n    }),\n    __metadata(\"design:paramtypes\", [TodoServiceService])\n], AppComponent);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}