{"ast":null,"code":"import { TodoServiceService } from \"../app/todo-service.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../app/todo-service.service\";\nimport * as i2 from \"./new-todos/new-todos.component\";\nimport * as i3 from \"./todo-list/todo-list.component\";\nexport class AppComponent {\n  ngOnInit() {\n    this.todoService.getTodos().subscribe(todos => {\n      console.log(\"Server Response - Todos: \", todos);\n      this.allTodos = todos;\n    });\n  }\n  constructor(todoService) {\n    this.todoService = todoService;\n    this.isLoading = false;\n  }\n  addTodo(newTodo) {\n    this.todoService.addTodo(newTodo).subscribe(response => {\n      console.log(\"server response\", response);\n      this.allTodos.push(response);\n      this.fetchTodos();\n    });\n  }\n  deleteTodo(todoId) {\n    console.log(\"delete\", todoId);\n    this.todoService.deleteTodo(todoId).subscribe(() => {\n      this.allTodos = this.allTodos.filter(todo => todo.id !== todoId);\n      this.fetchTodos();\n    });\n  }\n  fetchTodos() {\n    this.todoService.getTodos().subscribe(todos => {\n      this.allTodos = todos;\n    });\n  }\n  markCompleted(todo) {\n    console.log(\"mark complete\", todo);\n    if (todo.id !== undefined) {\n      this.todoService.markAsComplete(todo.id, !todo.complete).subscribe(() => {\n        todo.complete = !todo.complete;\n      });\n    }\n  }\n  clearCompleted() {\n    const completedTodoIds = this.allTodos.filter(todo => todo.complete && todo.id !== undefined).map(todo => todo.id);\n    completedTodoIds.forEach(todoId => {\n      this.todoService.deleteTodo(todoId).subscribe(() => {\n        this.allTodos = this.allTodos.filter(todo => {\n          return todo.id !== todoId;\n        });\n        this.fetchTodos();\n      });\n    });\n  }\n  static #_ = this.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.TodoServiceService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"org-root\"]],\n    decls: 9,\n    vars: 1,\n    consts: [[1, \"banner-con\"], [1, \"banner\"], [1, \"content\"], [\"src\", \"./img/icon-sun.svg\", \"alt\", \"\"], [1, \"todo\"], [3, \"addTodoItem\"], [3, \"todos\", \"deleteTodoItem\", \"markAsComplete\", \"clearcompletedItems\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\");\n        i0.ɵɵtext(4, \"TODO\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"org-new-todos\", 5);\n        i0.ɵɵlistener(\"addTodoItem\", function AppComponent_Template_org_new_todos_addTodoItem_7_listener($event) {\n          return ctx.addTodo($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"org-todo-list\", 6);\n        i0.ɵɵlistener(\"deleteTodoItem\", function AppComponent_Template_org_todo_list_deleteTodoItem_8_listener($event) {\n          return ctx.deleteTodo($event);\n        })(\"markAsComplete\", function AppComponent_Template_org_todo_list_markAsComplete_8_listener($event) {\n          return ctx.markCompleted($event);\n        })(\"clearcompletedItems\", function AppComponent_Template_org_todo_list_clearcompletedItems_8_listener() {\n          return ctx.clearCompleted();\n        });\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"todos\", ctx.allTodos);\n      }\n    },\n    dependencies: [i2.NewTodosComponent, i3.TodoListComponent],\n    styles: [\"body[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100vh;\\n  background-color: hsl(235, 21%, 11%);\\n  font-family: system-ui;\\n}\\n\\n.banner-con[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 60vh;\\n}\\n.banner-con[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  background: url('bg-desktop-dark.jpg');\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  background-size: cover;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.banner-con[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%] {\\n  width: 600px;\\n  display: flex;\\n  justify-content: space-between;\\n  margin-top: 40vh;\\n}\\n.banner-con[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  letter-spacing: 3px;\\n  color: #fff;\\n}\\n.banner-con[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  height: 34px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3RvZG8vc3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi8uLi8uLi90b2RvJTIwYXBwL3RvZG8tYXBwL3RvZG8vc3JjL2FwcC9hcHAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0VBQ0EsYUFBQTtFQUNBLG9DQUFBO0VBQ0Esc0JBQUE7QUNDSjs7QURFQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FDQ0o7QURDSTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0Esc0NBQUE7RUFDQSw0QkFBQTtFQUNBLDJCQUFBO0VBQ0Esc0JBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FDQ1I7QURDUTtFQUNJLFlBQUE7RUFDQSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxnQkFBQTtBQ0NaO0FEQ1k7RUFDSSxtQkFBQTtFQUNBLFdBQUE7QUNDaEI7QURFWTtFQUNJLFlBQUE7QUNBaEIiLCJzb3VyY2VzQ29udGVudCI6WyJib2R5IHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMHZoO1xuICAgIGJhY2tncm91bmQtY29sb3I6IGhzbCgyMzUsIDIxJSwgMTElKTtcbiAgICBmb250LWZhbWlseTogc3lzdGVtLXVpO1xufVxuXG4uYmFubmVyLWNvbiB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiA2MHZoO1xuXG4gICAgLmJhbm5lciB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIGJhY2tncm91bmQ6IHVybChcIi4uL2Fzc2V0cy9pbWcvYmctZGVza3RvcC1kYXJrLmpwZ1wiKTtcbiAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcblxuICAgICAgICAuY29udGVudCB7XG4gICAgICAgICAgICB3aWR0aDogNjAwcHg7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogNDB2aDtcblxuICAgICAgICAgICAgaDEge1xuICAgICAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAzcHg7XG4gICAgICAgICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGltZyB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAzNHB4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG59IiwiYm9keSB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMHZoO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMjM1LCAyMSUsIDExJSk7XG4gIGZvbnQtZmFtaWx5OiBzeXN0ZW0tdWk7XG59XG5cbi5iYW5uZXItY29uIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNjB2aDtcbn1cbi5iYW5uZXItY29uIC5iYW5uZXIge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kOiB1cmwoXCIuLi9hc3NldHMvaW1nL2JnLWRlc2t0b3AtZGFyay5qcGdcIik7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4uYmFubmVyLWNvbiAuYmFubmVyIC5jb250ZW50IHtcbiAgd2lkdGg6IDYwMHB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gIG1hcmdpbi10b3A6IDQwdmg7XG59XG4uYmFubmVyLWNvbiAuYmFubmVyIC5jb250ZW50IGgxIHtcbiAgbGV0dGVyLXNwYWNpbmc6IDNweDtcbiAgY29sb3I6ICNmZmY7XG59XG4uYmFubmVyLWNvbiAuYmFubmVyIC5jb250ZW50IGltZyB7XG4gIGhlaWdodDogMzRweDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"names":["TodoServiceService","AppComponent","ngOnInit","todoService","getTodos","subscribe","todos","console","log","allTodos","constructor","isLoading","addTodo","newTodo","response","push","fetchTodos","deleteTodo","todoId","filter","todo","id","markCompleted","undefined","markAsComplete","complete","clearCompleted","completedTodoIds","map","forEach","_","i0","ɵɵdirectiveInject","i1","_2","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","AppComponent_Template_org_new_todos_addTodoItem_7_listener","$event","AppComponent_Template_org_todo_list_deleteTodoItem_8_listener","AppComponent_Template_org_todo_list_markAsComplete_8_listener","AppComponent_Template_org_todo_list_clearcompletedItems_8_listener","ɵɵadvance","ɵɵproperty"],"sources":["/Users/macbookpro/OneSchool/todo app/todo-app/todo/src/app/app.component.ts","/Users/macbookpro/OneSchool/todo app/todo-app/todo/src/app/app.component.html"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { FormGroup, Validators, FormBuilder } from \"@angular/forms\";\nimport { TodoServiceService } from \"../app/todo-service.service\";\nimport { Todo } from \"./new-todos/todo.interface\";\n\n@Component({\n  selector: \"org-root\",\n  templateUrl: \"./app.component.html\",\n  styleUrls: [\"./app.component.scss\"],\n})\nexport class AppComponent implements OnInit {\n  allTodos!: Todo[];\n  isLoading = false;\n\n  ngOnInit(): void {\n    this.todoService.getTodos().subscribe((todos) => {\n      console.log(\"Server Response - Todos: \", todos);\n      this.allTodos = todos;\n    });\n  }\n  constructor(private todoService: TodoServiceService) {}\n\n  addTodo(newTodo: Todo) {\n    this.todoService.addTodo(newTodo).subscribe((response) => {\n      console.log(\"server response\", response);\n      this.allTodos.push(response);\n      this.fetchTodos();\n    });\n  }\n\n  deleteTodo(todoId: number) {\n    console.log(\"delete\", todoId);\n    this.todoService.deleteTodo(todoId).subscribe(() => {\n      this.allTodos = this.allTodos.filter((todo) => todo.id !== todoId);\n      this.fetchTodos();\n    });\n  }\n  fetchTodos(): void {\n    this.todoService.getTodos().subscribe((todos) => {\n      this.allTodos = todos;\n    });\n  }\n  markCompleted(todo: Todo) {\n    console.log(\"mark complete\", todo);\n    if (todo.id !== undefined) {\n      this.todoService.markAsComplete(todo.id, !todo.complete).subscribe(() => {\n        todo.complete = !todo.complete;\n      });\n    }\n  }\n\n  clearCompleted() {\n    const completedTodoIds = this.allTodos\n      .filter((todo) => todo.complete && todo.id !== undefined)\n      .map((todo) => todo.id as number);\n    completedTodoIds.forEach((todoId) => {\n      this.todoService.deleteTodo(todoId).subscribe(() => {\n        this.allTodos = this.allTodos.filter((todo) => {\n          return todo.id !== todoId;\n        });\n        this.fetchTodos();\n      });\n    });\n  }\n}\n","<!-- <org-new-todos></org-new-todos> -->\n<div class=\"banner-con\">\n  <div class=\"banner\">\n    <div class=\"content\">\n      <h1>TODO</h1>\n      <img src=\"./img/icon-sun.svg\" alt />\n    </div>\n    <div class=\"todo\">\n      <org-new-todos (addTodoItem)=\"addTodo($event)\"></org-new-todos>\n      <org-todo-list\n        [todos]=\"allTodos\"\n        (deleteTodoItem)=\"deleteTodo($event)\"\n        (markAsComplete)=\"markCompleted($event)\"\n        (clearcompletedItems)=\"clearCompleted()\"\n      ></org-todo-list>\n    </div>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}