{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./app.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./app.component.scss?ngResource\";\nimport { Component } from \"@angular/core\";\nimport { TodoServiceService } from \"../app/todo-service.service\";\nexport let AppComponent = class AppComponent {\n  ngOnInit() {\n    this.todoService.getTodos().subscribe(todos => {\n      console.log(\"Server Response - Todos: \", todos);\n      this.allTodos = todos;\n    });\n  }\n  constructor(todoService) {\n    this.todoService = todoService;\n    this.isLoading = false;\n  }\n  addTodo(newTodo) {\n    this.todoService.addTodo(newTodo).subscribe(response => {\n      console.log(\"server response\", response);\n      this.allTodos.push(response);\n      this.fetchTodos();\n    });\n  }\n  updateTodo(updatedTodo) {\n    this.todoService.updateTodo(updatedTodo.id, updatedTodo).subscribe(updatedTodoFromServer => {\n      const index = this.allTodos.findIndex(todo => todo.id === updatedTodo.id);\n      if (index !== -1) {\n        this.allTodos[index] = updatedTodoFromServer;\n      }\n    });\n  }\n  deleteTodo(todoId) {\n    console.log(\"delete\", todoId);\n    this.todoService.deleteTodo(todoId).subscribe(() => {\n      this.allTodos = this.allTodos.filter(todo => todo.id !== todoId);\n      this.fetchTodos();\n    });\n  }\n  fetchTodos() {\n    this.todoService.getTodos().subscribe(todos => {\n      this.allTodos = todos;\n    });\n  }\n  markCompleted(todo) {\n    console.log(\"mark complete\", todo);\n    if (todo.id !== undefined) {\n      this.todoService.markAsComplete(todo.id, !todo.complete).subscribe(() => {\n        todo.complete = !todo.complete;\n      });\n    }\n  }\n  clearCompleted() {\n    const completedTodoIds = this.allTodos.filter(todo => todo.complete && todo.id !== undefined).map(todo => todo.id);\n    completedTodoIds.forEach(todoId => {\n      this.todoService.deleteTodo(todoId).subscribe(() => {\n        this.allTodos = this.allTodos.filter(todo => {\n          return todo.id !== todoId;\n        });\n        this.fetchTodos();\n      });\n    });\n  }\n  static #_ = this.ctorParameters = () => [{\n    type: TodoServiceService\n  }];\n};\nAppComponent = __decorate([Component({\n  selector: \"org-root\",\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n}), __metadata(\"design:paramtypes\", [TodoServiceService])], AppComponent);","map":{"version":3,"names":["__decorate","__metadata","__NG_CLI_RESOURCE__0","__NG_CLI_RESOURCE__1","Component","TodoServiceService","AppComponent","ngOnInit","todoService","getTodos","subscribe","todos","console","log","allTodos","constructor","isLoading","addTodo","newTodo","response","push","fetchTodos","updateTodo","updatedTodo","id","updatedTodoFromServer","index","findIndex","todo","deleteTodo","todoId","filter","markCompleted","undefined","markAsComplete","complete","clearCompleted","completedTodoIds","map","forEach","_","ctorParameters","type","selector","template","styles"],"sources":["/Users/macbookpro/OneSchool/todo app/todo-app/todo/src/app/app.component.ts"],"sourcesContent":["import { __decorate, __metadata } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./app.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./app.component.scss?ngResource\";\nimport { Component } from \"@angular/core\";\nimport { TodoServiceService } from \"../app/todo-service.service\";\nexport let AppComponent = class AppComponent {\n    ngOnInit() {\n        this.todoService.getTodos().subscribe((todos) => {\n            console.log(\"Server Response - Todos: \", todos);\n            this.allTodos = todos;\n        });\n    }\n    constructor(todoService) {\n        this.todoService = todoService;\n        this.isLoading = false;\n    }\n    addTodo(newTodo) {\n        this.todoService.addTodo(newTodo).subscribe((response) => {\n            console.log(\"server response\", response);\n            this.allTodos.push(response);\n            this.fetchTodos();\n        });\n    }\n    updateTodo(updatedTodo) {\n        this.todoService\n            .updateTodo(updatedTodo.id, updatedTodo)\n            .subscribe((updatedTodoFromServer) => {\n            const index = this.allTodos.findIndex((todo) => todo.id === updatedTodo.id);\n            if (index !== -1) {\n                this.allTodos[index] = updatedTodoFromServer;\n            }\n        });\n    }\n    deleteTodo(todoId) {\n        console.log(\"delete\", todoId);\n        this.todoService.deleteTodo(todoId).subscribe(() => {\n            this.allTodos = this.allTodos.filter((todo) => todo.id !== todoId);\n            this.fetchTodos();\n        });\n    }\n    fetchTodos() {\n        this.todoService.getTodos().subscribe((todos) => {\n            this.allTodos = todos;\n        });\n    }\n    markCompleted(todo) {\n        console.log(\"mark complete\", todo);\n        if (todo.id !== undefined) {\n            this.todoService.markAsComplete(todo.id, !todo.complete).subscribe(() => {\n                todo.complete = !todo.complete;\n            });\n        }\n    }\n    clearCompleted() {\n        const completedTodoIds = this.allTodos\n            .filter((todo) => todo.complete && todo.id !== undefined)\n            .map((todo) => todo.id);\n        completedTodoIds.forEach((todoId) => {\n            this.todoService.deleteTodo(todoId).subscribe(() => {\n                this.allTodos = this.allTodos.filter((todo) => {\n                    return todo.id !== todoId;\n                });\n                this.fetchTodos();\n            });\n        });\n    }\n    static { this.ctorParameters = () => [\n        { type: TodoServiceService }\n    ]; }\n};\nAppComponent = __decorate([\n    Component({\n        selector: \"org-root\",\n        template: __NG_CLI_RESOURCE__0,\n        styles: [__NG_CLI_RESOURCE__1]\n    }),\n    __metadata(\"design:paramtypes\", [TodoServiceService])\n], AppComponent);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}