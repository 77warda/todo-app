{"version":3,"file":"new-todos-new-todos-component-stories.1a280474e7bbf732b56d.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA","sources":["webpack://@org/source/./todo/src/app/new-todos/new-todos.component.ts"],"sourcesContent":["import { __decorate, __metadata } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./new-todos.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./new-todos.component.scss?ngResource\";\nimport { Component, EventEmitter, Output } from \"@angular/core\";\nimport { Validators, FormBuilder } from \"@angular/forms\";\nimport { DataShareService } from \"../data-share.service\";\nexport let NewTodosComponent = class NewTodosComponent {\n    constructor(fb, todoEditService) {\n        this.fb = fb;\n        this.todoEditService = todoEditService;\n        this.addTodoItem = new EventEmitter();\n        this.todoForm = this.fb.group({\n            name: [\"\", Validators.required],\n        });\n        this.todos = [];\n        this.selectedTodoSubscription =\n            this.todoEditService.selectedTodo$.subscribe((selectedTodo) => {\n                this.selectedTodo = selectedTodo;\n                this.todoForm.patchValue({\n                    name: selectedTodo ? selectedTodo.name : \"\",\n                });\n            });\n    }\n    ngOnInit() {\n        this.todoForm = this.fb.group({\n            name: [\"\", Validators.required],\n        });\n    }\n    // addTodo() {\n    //   if (this.todoForm.valid) {\n    //     const newTodo = this.todoForm.value;\n    //     this.todoForm.reset();\n    //     this.addTodoItem.emit(newTodo);\n    //   }\n    // }\n    addTodo() {\n        if (this.todoForm.valid) {\n            const newTodo = this.todoForm.value;\n            if (this.selectedTodo) {\n                // Edit existing todo\n                const index = this.todos.findIndex((todo) => todo.id === this.selectedTodo.id);\n                if (index !== -1) {\n                    this.todos[index] = {\n                        ...this.selectedTodo,\n                        name: newTodo.name, // Update the name property with the new value from the form\n                    };\n                }\n            }\n            else {\n                // Add new todo\n                const generatedId = this.todos.length > 0\n                    ? Math.max(...this.todos.map((todo) => todo.id)) + 1\n                    : 1;\n                const todoToAdd = {\n                    id: generatedId,\n                    name: newTodo.name,\n                    complete: false, // You might want to add a default value for the complete property\n                };\n                this.todos.push(todoToAdd);\n            }\n            // Reset the form and clear the selected todo\n            this.todoForm.reset();\n            this.todoEditService.clearTodo();\n        }\n    }\n    ngOnDestroy() {\n        this.selectedTodoSubscription.unsubscribe();\n    }\n    static { this.ctorParameters = () => [\n        { type: FormBuilder },\n        { type: DataShareService }\n    ]; }\n    static { this.propDecorators = {\n        addTodoItem: [{ type: Output }]\n    }; }\n};\nNewTodosComponent = __decorate([\n    Component({\n        selector: \"org-new-todos\",\n        template: __NG_CLI_RESOURCE__0,\n        styles: [__NG_CLI_RESOURCE__1]\n    }),\n    __metadata(\"design:paramtypes\", [FormBuilder,\n        DataShareService])\n], NewTodosComponent);\n"],"names":[],"sourceRoot":""}