"use strict";
self["webpackHotUpdate_org_source"]("new-todos-new-todos-component-stories",{

/***/ "./todo/src/app/new-todos/new-todos.component.stories.ts":
/*!***************************************************************!*\
  !*** ./todo/src/app/new-todos/new-todos.component.stories.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Primary: () => (/* binding */ Primary),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @storybook/angular */ "./node_modules/@storybook/angular/dist/index.mjs");
/* harmony import */ var _new_todos_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./new-todos.component */ "./todo/src/app/new-todos/new-todos.component.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2022/http.mjs");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2022/core.mjs");




const meta = {
  component: _new_todos_component__WEBPACK_IMPORTED_MODULE_1__.NewTodosComponent,
  title: 'NewTodosComponent',
  decorators: [(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.applicationConfig)({
    providers: [(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.importProvidersFrom)(_angular_common_http__WEBPACK_IMPORTED_MODULE_3__.HttpClientModule)]
  })]
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (meta);
const Primary = {
  args: {}
};
// export const Heading: Story = {
//   args: {},
//   play: async ({ canvasElement }) => {
//     const canvas = within(canvasElement);
//     expect(canvas.getByText(/new-todos works!/gi)).toBeTruthy();
//   },
// };

/***/ }),

/***/ "./todo/src/app/new-todos/new-todos.component.ts":
/*!*******************************************************!*\
  !*** ./todo/src/app/new-todos/new-todos.component.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NewTodosComponent: () => (/* binding */ NewTodosComponent)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
/* harmony import */ var _new_todos_component_html_ngResource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./new-todos.component.html?ngResource */ "./todo/src/app/new-todos/new-todos.component.html?ngResource");
/* harmony import */ var _new_todos_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./new-todos.component.scss?ngResource */ "./todo/src/app/new-todos/new-todos.component.scss?ngResource");
/* harmony import */ var _new_todos_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_new_todos_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2022/forms.mjs");
/* harmony import */ var _data_share_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data-share.service */ "./todo/src/app/data-share.service.ts");






let NewTodosComponent = class NewTodosComponent {
  constructor(fb, todoEditService) {
    this.fb = fb;
    this.todoEditService = todoEditService;
    this.addTodoItem = new _angular_core__WEBPACK_IMPORTED_MODULE_3__.EventEmitter();
    this.todoForm = this.fb.group({
      name: ["", _angular_forms__WEBPACK_IMPORTED_MODULE_4__.Validators.required]
    });
    this.todos = [];
    this.selectedTodoSubscription = this.todoEditService.selectedTodo$.subscribe(selectedTodo => {
      this.selectedTodo = selectedTodo;
      this.todoForm.patchValue({
        name: selectedTodo ? selectedTodo.name : ""
      });
    });
  }
  ngOnInit() {
    this.todoForm = this.fb.group({
      name: ["", _angular_forms__WEBPACK_IMPORTED_MODULE_4__.Validators.required]
    });
  }
  // addTodo() {
  //   if (this.todoForm.valid) {
  //     if (this.selectedTodo) {
  //       // Update existing todo
  //       const index = this.todos.findIndex(
  //         (todo) => todo.id === this.selectedTodo.id
  //       );
  //       if (index !== -1) {
  //         this.todos[index] = {
  //           ...this.selectedTodo,
  //           name: this.todoForm.value.name,
  //         };
  //         console.log("edit", this.todos);
  //       }
  //     } else {
  //       // Add new todo
  //       const newTodo = {
  //         id: this.todos.length + 1, // Generate a unique ID (you can use a more robust method)
  //         name: this.todoForm.value.name,
  //       };
  //       this.todos.push(newTodo);
  //       console.log("add", newTodo);
  //     }
  //     // Reset the form and selectedTodo
  //     this.todoForm.reset();
  //     this.todoEditService.clearTodo();
  //   }
  // }
  addTodo() {
    console.log("Selected Todo:", this.selectedTodo);
    console.log("Todos before update:", this.todos);
    if (this.todoForm.valid) {
      if (this.selectedTodo) {
        // Update existing todo
        const index = this.todos.findIndex(todo => todo.id === this.selectedTodo.id);
        if (index !== -1) {
          this.todos[index] = {
            ...this.selectedTodo,
            name: this.todoForm.value.name
          };
          console.log("edit", this.todos);
        }
      }
      console.log("Todos after update:", this.todos);
    }
  }
  ngOnDestroy() {
    this.selectedTodoSubscription.unsubscribe();
  }
  static #_ = this.ctorParameters = () => [{
    type: _angular_forms__WEBPACK_IMPORTED_MODULE_4__.FormBuilder
  }, {
    type: _data_share_service__WEBPACK_IMPORTED_MODULE_2__.DataShareService
  }];
  static #_2 = this.propDecorators = {
    addTodoItem: [{
      type: _angular_core__WEBPACK_IMPORTED_MODULE_3__.Output
    }]
  };
};
NewTodosComponent = (0,tslib__WEBPACK_IMPORTED_MODULE_5__.__decorate)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_3__.Component)({
  selector: "org-new-todos",
  template: _new_todos_component_html_ngResource__WEBPACK_IMPORTED_MODULE_0__,
  styles: [(_new_todos_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_1___default())]
}), (0,tslib__WEBPACK_IMPORTED_MODULE_5__.__metadata)("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_4__.FormBuilder, _data_share_service__WEBPACK_IMPORTED_MODULE_2__.DataShareService])], NewTodosComponent);

/***/ })

});
//# sourceMappingURL=new-todos-new-todos-component-stories.ec83744a1d0aa037fc49.hot-update.js.map