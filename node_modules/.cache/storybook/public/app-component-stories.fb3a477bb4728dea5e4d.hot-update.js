"use strict";
self["webpackHotUpdate_org_source"]("app-component-stories",{

/***/ "./todo/src/app/app.component.stories.ts":
/*!***********************************************!*\
  !*** ./todo/src/app/app.component.stories.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Primary: () => (/* binding */ Primary),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _storybook_angular__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @storybook/angular */ "./node_modules/@storybook/angular/dist/index.mjs");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app.component */ "./todo/src/app/app.component.ts");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2022/http.mjs");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2022/core.mjs");




const meta = {
  component: _app_component__WEBPACK_IMPORTED_MODULE_1__.AppComponent,
  title: 'AppComponent',
  decorators: [(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.applicationConfig)({
    providers: [(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.importProvidersFrom)(_angular_common_http__WEBPACK_IMPORTED_MODULE_3__.HttpClientModule)]
  })]
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (meta);
const Primary = {
  args: {}
};
// export const Heading: Story = {
//   args: {},
//   play: async ({ canvasElement }) => {
//     const canvas = within(canvasElement);
//     expect(canvas.getByText(/app works!/gi)).toBeTruthy();
//   },
// };

/***/ }),

/***/ "./todo/src/app/app.component.ts":
/*!***************************************!*\
  !*** ./todo/src/app/app.component.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AppComponent: () => (/* binding */ AppComponent)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.mjs");
/* harmony import */ var _app_component_html_ngResource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app.component.html?ngResource */ "./todo/src/app/app.component.html?ngResource");
/* harmony import */ var _app_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app.component.scss?ngResource */ "./todo/src/app/app.component.scss?ngResource");
/* harmony import */ var _app_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_app_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2022/core.mjs");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2022/forms.mjs");
/* harmony import */ var _app_todo_service_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../app/todo-service.service */ "./todo/src/app/todo-service.service.ts");






let AppComponent = class AppComponent {
  // constructor(
  //   private fb: FormBuilder,
  //   private todoService: TodoServiceService
  // ) {}
  // todoForm: FormGroup = this.fb.group({
  //   name: ['', Validators.required],
  // });
  // todos: any[] = [];
  // data: any;
  // isLoading = false;
  // filter: 'all' | 'active' | 'completed' = 'all';
  constructor(fb, todoService) {
    this.fb = fb;
    this.todoService = todoService;
    this.todos = [];
    this.isLoading = false;
    // @Output() deleteTodoItem = new EventEmitter<any>();
    this.todoForm = this.fb.group({
      name: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]
    });
    // todos: any[] = [];
    // data: any;
    // isLoading = false;
    this.filter = 'all';
  }
  // ngOnInit(): void {
  //   this.todoForm = this.fb.group({
  //     name: ['', Validators.required],
  //   });
  // }
  // addTodo() {
  //   if (this.todoForm.valid) {
  //     const newTodo = this.todoForm.value;
  //     this.todoForm.reset();
  //     this.addTodoItem.emit(newTodo);
  //   }
  // }
  ngOnInit() {
    this.todoForm = this.fb.group({
      name: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]
    });
    this.fetchTodos();
  }
  fetchTodos() {
    this.todoService.getTodos().subscribe(response => {
      this.todos = response.map(todo => ({
        ...todo,
        isLoading: true
      }));
      this.isLoading = true;
      setTimeout(() => {
        this.todos.forEach(todo => todo.isLoading = false);
        this.isLoading = false; // Set isLoading to false once data is loaded
      }, 2000);
    });
  }
  // deleteTodo(todoId: number) {
  //   this.deleteTodoItem.emit(todoId);
  // }
  markCompleted(todo) {
    this.todoService.markAsComplete(todo.id, todo.complete).subscribe(response => {
      console.log('Todo status updated successfully:', response);
      todo.complete = !todo.complete;
    });
  }
  getCountOfTodos() {
    return this.todos.length;
  }
  clearCompleted() {
    const completedTodos = this.todos.filter(todo => todo.complete);
    completedTodos.forEach(todo => {
      this.todoService.deleteTodo(todo.id).subscribe(() => {
        this.todos = this.todos.filter(t => t.id !== todo.id);
      });
    });
  }
  getFilteredTodos() {
    if (this.filter === 'active') {
      return this.todos.filter(todo => !todo.complete);
    } else if (this.filter === 'completed') {
      return this.todos.filter(todo => todo.complete);
    } else {
      return this.todos;
    }
  }
  setFilter(filter) {
    this.filter = filter;
  }
  // constructor(private todoService: TodoServiceService) {}
  addTodo(newTodo) {
    console.log('parent', newTodo);
    this.todoService.addTodo(newTodo).subscribe(response => {
      this.todos.push(response);
    });
  }
  deleteTodo(todoId) {
    this.todoService.deleteTodo(todoId).subscribe(() => {
      this.todos = this.todos.filter(todo => todo.id !== todoId);
    });
  }
  static #_ = this.ctorParameters = () => [{
    type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormBuilder
  }, {
    type: _app_todo_service_service__WEBPACK_IMPORTED_MODULE_2__.TodoServiceService
  }];
};
AppComponent = (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__decorate)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_5__.Component)({
  selector: 'org-root',
  template: _app_component_html_ngResource__WEBPACK_IMPORTED_MODULE_0__,
  styles: [(_app_component_scss_ngResource__WEBPACK_IMPORTED_MODULE_1___default())]
}), (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__metadata)("design:paramtypes", [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormBuilder, _app_todo_service_service__WEBPACK_IMPORTED_MODULE_2__.TodoServiceService])], AppComponent);

/***/ })

});
//# sourceMappingURL=app-component-stories.fb3a477bb4728dea5e4d.hot-update.js.map